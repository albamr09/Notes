<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="/home/alba/Documentos/GitRepos/Notes/style.css">
<title>cmd_vs_entrypoint</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<p>
<a href="index.html">Back</a>
</p>

<div id="`CMD` vs `ENTRYPOINT`"><h1 id="`CMD` vs `ENTRYPOINT`" class="header"><a href="#`CMD` vs `ENTRYPOINT`"><code>CMD</code> vs <code>ENTRYPOINT</code></a></h1></div>

<div id="`CMD` vs `ENTRYPOINT`-`CMD`"><h2 id="`CMD`" class="header"><a href="#`CMD` vs `ENTRYPOINT`-`CMD`"><code>CMD</code></a></h2></div>

<p>
A command allows us to append to the command executed when the container start of the base image. For example, <code>Ubuntu</code>'s <code>CMD</code> is <code>bash</code>, so if we append <code>sleep 5</code> our container will sleep for 5 seconds when started and then exit.
</p>

<pre Dockerfile>

FROM Ubuntu

CMD sleep 5

</pre>

<p>
The command can also be specified as <code>CMD ["sleep", "5"].</code>
</p>

<div id="`CMD` vs `ENTRYPOINT`-`ENTRYPOINT`"><h2 id="`ENTRYPOINT`" class="header"><a href="#`CMD` vs `ENTRYPOINT`-`ENTRYPOINT`"><code>ENTRYPOINT</code></a></h2></div>

<p>
This other instruction also adds to the base image starting command, but this lets us add arguments from the command line, for example, if we define the following <code>Dockerfile</code>:
</p>

<pre Dockerfile>

FROM Ubuntu

ENTRYPOINT ["sleep"]

</pre>

<p>
We build the image
</p>

<pre console>

$ docker build Dockerfile -t ubuntu-sleeper

</pre>

<p>
And then we running with <code>10</code> as and argument:
</p>

<pre console>

$ docker run ubuntu-sleeper 10

</pre>

<p>
Our container will sleep for 10 seconds and then exit.
</p>

<p>
To define a default value for sleep, when no argument is passed from the command line, we use both <code>ENTRYPOINT</code> and <code>CMD</code>
</p>

<pre Dockerfile>

FROM Ubuntu

ENTRYPOINT ["sleep"]

CMD ["5"]

</pre>

<p>
To override the <code>ENTRYPOINT</code> command specified in the <code>Dockerfile</code> we use the flag <code>--entrypoint</code>:
</p>

<pre console>

$ docker run --entrypoint sleep2.0 ubuntu-sleeper 10

</pre>

<div id="`CMD` vs `ENTRYPOINT`-Difference"><h2 id="Difference" class="header"><a href="#`CMD` vs `ENTRYPOINT`-Difference">Difference</a></h2></div>

<p>
When using <code>CMD</code> when running:
</p>

<pre console>

$ docker run ubuntu-sleeper sleep 10

</pre>

<p>
The argument <code>sleep 10</code> replaces entirely the starting command. However with <code>ENTRYPOINT</code> if we run:
</p>

<pre console>

$ docker run ubuntu-sleeper 10

</pre>

<p>
The argument <code>10</code> is passed and appended to the <code>ENTRYPOINT</code> command.
</p>

</body>
</html>
